<MacrosWidget>:
    orientation: 'tb-lr'
    spacing: 10, 10
    padding: 10, 10
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 1
        Rectangle:
            pos: self.pos
            size: self.size

    ToggleButton:
        text: 'Power on' if self.state == 'normal' else 'Power off'
        size: 100, 40
        size_hint: None, None
        on_press: root.send('M81' if self.state == 'normal' else 'M80')

    ToggleButton:
        text: 'Fan on' if self.state == 'normal' else 'Fan off'
        size: 100, 40
        size_hint: None, None
        on_press: root.send('M107' if self.state == 'normal' else 'M106 S255')

    Button:
        text: 'Settings'
        on_press: root.send('M503')
        size: 100, 40
        size_hint: None, None
    Button:
        text: 'Get Pos'
        on_press: root.send('get pos')
        size: 100, 40
        size_hint: None, None
    Button:
        text: 'CZ'
        on_press: root.send('G0 F15000 X0 Y0 Z0')
        size: 100, 40
        size_hint: None, None
    Button:
        text: 'C'
        on_press: root.send('G0 F15000 X0 Y0 Z0.2')
        size: 100, 40
        size_hint: None, None
    Button:
        text: 'T1'
        on_press: root.send('G0 F15000 X-102.85962 Y-59.3860 Z0.2')
        size: 100, 40
        size_hint: None, None
    Button:
        text: 'T2'
        on_press: root.send('G0 F15000 X102.85962 Y-59.3860 Z0.2')
        size: 100, 40
        size_hint: None, None
    Button:
        text: 'T3'
        on_press: root.send('G0 F15000 X0 Y118.7721 Z0.2')
        size: 100, 40
        size_hint: None, None
